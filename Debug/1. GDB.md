1. compile a c code
- ```gcc -Wall yourcode.c -o output```  
- ```./output```  
2. complile your own kernel  
- make sure you have a ```vmlinux``` file (all the kernel info we need, like the debug info)
3. enable certain feature in your kernel config
- ```CONFIG_GDB_SCRIPTS```
4. ```sudo gdb vmlinux /proc/kcore```

GDB stops your kernel at certain point: break

**gdb commands**:
- ```help```
- ```lay next```(read assembly)
- ```break 6```(add breakpoint in the 6th line)
- ``` run ```
- ```refresh```
- ```info```(get info from specific area of the kernel)
- hit ```tab``` twice, it will return all the matching commands  


**Example:**  
debugging memory map minimum addr  
- (gdb)```info address mmap_min_addr```  : Symbol "mmap_min_addr"  is static storage at address 0xfffffff82df6288
- (gdb)```print /x mmap_min_addr```  : $1 = 0x0 (sercurity reason for kernel, it won't show the memory map)
- (gdb)```print /d mmap_min_addr```  : $2 = 0
- (in your linux evironment)```cat /proc/kallsyms | grep mmap_min_addr```: 
0000000 T mmap_min_adr_handler  
0000000 D mmap_min_addr  
0000000 t init_mmap_min_addr  
0000000 d __initcall_kmod_min_addr__252_53_init_mmap_min_addr0  
0000000 B mmap_min_addr  
- (gdb)```print /x fixed_percpu_data```  : $3 = {gs base = {0x0 <repeats 40 times>},stack_canary = 0x0} // we find something! the fixed_percpu_data get executed 40 times in kernel
- **(gdb)```lx -```**: almost everything you need for debugging! 
    - ```dmesg```
    - ```cmdline```
    - ```cpus``` info about cpus
    - ```symbols```
    - ```device-list-bus```
    - ```configdump```